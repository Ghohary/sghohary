<!-- Navigation -->
<div class="nav-container">
    <nav class="container">
        <div class="nav-left">
            <button class="mobile-menu-btn" aria-label="Toggle menu">
                <span></span>
                <span></span>
            </button>
            <div class="nav-icons nav-icons-left">
            <a href="#search" aria-label="Search" class="search-link">
                <svg class="nav-icon" viewBox="0 0 24 24">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
            </a>
            </div>
        </div>
        
        <a href="index.html" class="logo">GHOHARY</a>
        
        <div class="nav-icons nav-icons-right">
            <a href="wishlist.html" aria-label="Wishlist" class="wishlist-link">
                <svg class="nav-icon" viewBox="0 0 24 24">
                    <path d="M20.8 8.4c0 5.4-8.8 11.2-8.8 11.2S3.2 13.8 3.2 8.4a4.4 4.4 0 0 1 8.8 0a4.4 4.4 0 0 1 8.8 0z"></path>
                </svg>
            </a>
            <a href="account.html" aria-label="Account" class="account-link">
                <svg class="nav-icon" viewBox="0 0 24 24">
                    <circle cx="12" cy="8" r="4"></circle>
                    <path d="M4 20a8 8 0 0 1 16 0"></path>
                </svg>
            </a>
            <a href="cart.html" aria-label="Shopping cart" class="cart-link">
                <svg class="nav-icon" viewBox="0 0 24 24">
                    <rect x="4" y="7" width="16" height="13" rx="2"></rect>
                    <path d="M8 7V6a4 4 0 0 1 8 0v1"></path>
                </svg>
                <span class="cart-count">0</span>
            </a>
        </div>
        
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="collections.html">Collections</a></li>
            <li><a href="index.html#about">About</a></li>
            <li><a href="appointment.html">Book Appointment</a></li>
            <li><a href="account.html">Account</a></li>
            <li><a href="index.html#contact">Contact</a></li>
        </ul>
    </nav>
</div>

<script>
    // Mobile menu toggle
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    const navLinks = document.querySelector('.nav-links');

    if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenuBtn.classList.toggle('active');
            navLinks.classList.toggle('active');
        });

        // Close menu when a link is clicked
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenuBtn.classList.remove('active');
                navLinks.classList.remove('active');
            });
        });
    }

    // Update cart count - expose globally if not already defined
    if (!window.updateCartCount) {
        window.updateCartCount = function() {
            const cart = JSON.parse(localStorage.getItem('ghoharyCart') || '[]');
            const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
            const cartCountBadge = document.querySelector('.cart-count');
            if (cartCountBadge) {
                if (totalItems > 0) {
                    cartCountBadge.textContent = totalItems;
                    cartCountBadge.style.display = 'flex';
                } else {
                    cartCountBadge.style.display = 'none';
                }
            }
        };
    }

    // Update cart count on page load
    window.updateCartCount();

    // Listen for cart changes
    window.addEventListener('cartUpdated', window.updateCartCount);
</script>
