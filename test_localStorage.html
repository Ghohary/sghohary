<!DOCTYPE html>
<html>
<head>
    <title>Test localStorage Products</title>
    <style>
        body { font-family: monospace; padding: 20px; }
        pre { background: #f0f0f0; padding: 15px; border-radius: 5px; overflow-x: auto; }
        .product { margin: 20px 0; border: 1px solid #ccc; padding: 15px; }
    </style>
</head>
<body>
    <h1>GHOHARY Admin - localStorage Debug</h1>
    
    <h2>Products in localStorage:</h2>
    <div id="output"></div>
    
    <script>
        const products = JSON.parse(localStorage.getItem('ghoharyProducts') || '[]');
        const output = document.getElementById('output');
        
        if (products.length === 0) {
            output.innerHTML = '<p style="color: red;">No products found in localStorage!</p>';
        } else {
            output.innerHTML = products.map((p, idx) => `
                <div class="product">
                    <h3>${idx + 1}. ${p.name} (ID: ${p.id})</h3>
                    <p><strong>Category:</strong> ${p.category}</p>
                    <p><strong>Price:</strong> ${p.price}</p>
                    <p><strong>Visible:</strong> ${p.visible !== false ? 'Yes' : 'No'}</p>
                    <p><strong>Images:</strong></p>
                    ${p.images && p.images.length > 0 ? `
                        <ul>
                            ${p.images.map((img, i) => `<li>${i + 1}. ${img.substring(0, 100)}${img.length > 100 ? '...' : ''}</li>`).join('')}
                        </ul>
                    ` : '<p style="color: red;">NO IMAGES!</p>'}
                    <p><strong>JSON Size:</strong> ${JSON.stringify(p).length} bytes</p>
                    <hr>
                    <details>
                        <summary>Full Product JSON</summary>
                        <pre>${JSON.stringify(p, null, 2)}</pre>
                    </details>
                </div>
            `).join('');
        }
        
        const totalSize = JSON.stringify(products).length;
        const output2 = document.createElement('div');
        output2.innerHTML = `<h2>Total Size: ${totalSize} bytes (${(totalSize/1024).toFixed(2)} KB)</h2>`;
        output.parentNode.insertBefore(output2, output);
    </script>
</body>
</html>
